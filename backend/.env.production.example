# Production Environment Configuration Example
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

NODE_ENV=production
APP_ENV=production
APP_NAME=Team Evaluatie App

# =============================================================================
# SECURITY - CRITICAL SETTINGS
# =============================================================================

# JWT Secret Key - MUST BE CHANGED!
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
SECRET_KEY=CHANGE_ME_TO_RANDOM_STRING_MIN_32_CHARS

# JWT Token Expiration (minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Security Headers
# In production, Nginx handles all security headers at the edge to avoid duplicates
# Set to false in production (default), true only if testing backend standalone
ENABLE_BACKEND_SECURITY_HEADERS=false

# Cookie Security Settings
COOKIE_SECURE=true  # REQUIRED for production (HTTPS only)
COOKIE_DOMAIN=.yourdomain.com  # Include leading dot for subdomains
COOKIE_SAMESITE=Lax  # Allows OAuth redirects
COOKIE_MAX_AGE=604800  # 7 days in seconds

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed frontend origins (comma-separated, NO wildcards!)
CORS_ORIGINS=https://app.yourdomain.com,https://www.yourdomain.com

# =============================================================================
# URLs
# =============================================================================

FRONTEND_URL=https://app.yourdomain.com
BACKEND_URL=https://api.yourdomain.com
API_V1_PREFIX=/api/v1

# =============================================================================
# DATABASE
# =============================================================================

# PostgreSQL connection string
# Format: postgresql+psycopg2://user:password@host:port/database
DATABASE_URL=postgresql+psycopg2://username:password@db-host:5432/tea_production

# Use strong passwords! Generate with:
# python -c 'import secrets; print(secrets.token_urlsafe(24))'

# =============================================================================
# REDIS (Queue & Rate Limiting)
# =============================================================================

# Redis connection string
# Format: redis://[:password@]host:port/db
REDIS_URL=redis://:your-redis-password@redis-host:6379/0

# =============================================================================
# AZURE AD (OAuth Authentication)
# =============================================================================

# Azure AD Application Registration
AZURE_AD_CLIENT_ID=your-azure-ad-client-id
AZURE_AD_TENANT_ID=your-azure-ad-tenant-id
AZURE_AD_CLIENT_SECRET=your-azure-ad-client-secret

# OAuth Redirect URI (must match Azure AD configuration)
AZURE_AD_REDIRECT_URI=https://api.yourdomain.com/api/v1/auth/azure/callback

# Azure AD Settings
AZURE_AD_AUTHORITY=https://login.microsoftonline.com/your-tenant-id
AZURE_AD_SCOPES=User.Read
AZURE_AD_ALLOWED_DOMAINS=yourdomain.com,yourschool.edu

# =============================================================================
# AI/OLLAMA SETTINGS (Optional)
# =============================================================================

# Ollama API for AI feedback summaries
OLLAMA_BASE_URL=http://ollama-host:11434
OLLAMA_MODEL=llama3.1
OLLAMA_TIMEOUT=60.0

# =============================================================================
# OPTIONAL SETTINGS
# =============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# AWS S3 for file storage (optional)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=your-bucket-name
# AWS_REGION=eu-west-1
